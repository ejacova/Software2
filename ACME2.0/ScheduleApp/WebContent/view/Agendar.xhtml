<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<title>ScheduleApp</title>
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" />
	<h:outputStylesheet library="css" name="user.css" />
</h:head>

<h:body>
	<div id="sidemenu" class="menu-collapsed">
		<div id="header">
			<div id="title">
				<span>ScheduleApp</span>
			</div>
		</div>

		<div id="profile">
			<div id="photo">
				<IMG alt="" src="../resources/img/user.png" class="user" />
			</div>
			<div id="name">
				<span>User name</span>
			</div>
		</div>

		<div id="menu-items">

			<div class="item">
				<a href="Citas.xhtml">
					<div class="icon">
						<IMG src="../resources/img/citas.png" alt="" class="agendar" />
					</div>
					<div class="tittle">
						<span>Citas</span>
					</div>
				</a>
			</div>

			<div class="itemseparator"></div>


			<div class="item">
				<a href="#">
					<div class="icon">
						<IMG src="../resources/img/calendario.png" alt="" class="agendar" />
					</div>
					<div class="tittle">
						<span>Agendar</span>
					</div>
				</a>
			</div>

			<div class="itemseparator"></div>
			
			<div class="item">
				<a href="Index.xhtml">
					<div class="icon">
						<IMG src="../resources/img/cerrar.png" alt="" class="agendar" />
					</div>
					<div class="tittle">
						<span>Cerrar sesion</span>
					</div>
				</a>
			</div>

		</div>
	</div>
	<p:spacer height="5" width="5"></p:spacer>
	<h2 align="center">¡Agende su cita!</h2>
	<div 
		style="background-color: #C8E8F6; margin-left: 20%; margin-top: 3%; margin-right: 3%; margin-bottom: 2%; ">
		
		<div class="main-container" style="margin-left: 5%; margin-right: 40%">

			<h:form>
				<p:spacer width="20" />
				<p:growl id="msg3" sticky="true" showDetail="true" />
				<h:panelGrid columns="2">
					<p:outputLabel for="txtDNI" value="Cédula:" style="color: black" />
					<p:inputText id="txtDNI" value="#{agendarController.cita}" requiered="true"
						style="margin: 2px; width : 130px; heigth : 2px" />
				</h:panelGrid>
				<br />
				<h:panelGrid columns="2">
					<p:outputLabel for="txtCel" value="Celular:" style="color: black" />
					<p:inputText id="txtCel" value="#{agendarController.cita.celular}" requiered="true"
						style="margin-right:2px; width : 130px; heigth : 2px" />

				</h:panelGrid>
				<br />

				<p:outputLabel for="inline" value="Fecha de cita:" />
				<h:panelGrid columns="5">
					<p:calendar id="inline" value="#{agendarController.cita.fechaCita}" locale="es" mode="inline"
						navigator="true" pattern="yyyy-MMM-dd" />
					<br />

					<p:spacer width="50" height="10" />

					<p:panel header="Seleccione el médico" style="margin-bottom:10px">
						<h:panelGrid columns="2" cellpadding="5">
								<p:outputLabel for="medico" value="Médico: " />
								<p:selectOneMenu id="medico" value=""
									style="width:350px">
									<p:ajax listener="#{registroController.onCountryChange}"
										update="hora" />
									<f:selectItem itemValue="" noSelectionOption="true" />
									<f:selectItems value="#{registroController.medicos}" var="m"
										itemLabel="#{m.nombreMed}" itemValue="#{m.cedulaMed}" />
								</p:selectOneMenu>

								<p:outputLabel for="hora" value="Hora: " />
								<p:selectOneMenu id="hora" value="#{agendarController.cita.horaCita}"
									style="width:150px">
									<f:selectItem itemValue="" noSelectionOption="true" />
									<f:selectItems value="#{registroController.horarios}" var="h"
										itemLabel="#{h.horaMed}" itemValue="#{h.horaMed}" />
								</p:selectOneMenu>
							</h:panelGrid>

					</p:panel>
				</h:panelGrid>

				<br />
				<p:commandButton  style="padding: 10px 20px; margin-left: 60%; margin-bottom:3% "
					value="Agendar" update="msg3"
					action="#{agendarController.nuevaCita()}" />
			</h:form>

		</div>


	</div>

</h:body>
</html>